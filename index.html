<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Happy Birthday Aki!</title>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; }
        body {
            background-color: #fdaebc;
            font-family: 'Pacifico', cursive;
            color: #ff69b4;
            text-align: center;
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            position: relative;
        }
        html { height: 100%; overflow: hidden; }

        #login {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #ffb6c1;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
            z-index: 10;
            width: 90%;
            max-width: 400px;
        }
        #login h2 { 
            font-size: clamp(1rem, 3vw, 1.5rem); 
            margin-bottom: 20px; 
        }
        #login input[type="date"] {
            padding: 10px; 
            border: 2px solid #ff69b4; 
            border-radius: 10px;
            font-size: clamp(16px, 3vw, 18px); 
            margin-bottom: 20px; 
            width: 100%; 
            max-width: 300px;
        }
        #login button {
            padding: clamp(8px, 2vw, 10px) clamp(16px, 4vw, 20px);
            background: #ff69b4; color: white; 
            border: none; 
            border-radius: 10px;
            font-size: clamp(16px, 3vw, 18px); 
            cursor: pointer; 
            transition: background 0.3s;
            width: 100%; max-width: 200px;
        }
        #login button:hover { background: #ff1493; }

        #greeting {
            display: none; 
            position: absolute; 
            top: 50%; 
            left: 50%;
            transform: translate(-50%, -50%); 
            z-index: 5; 
            width: 90%; 
            max-width: 600px;
        }
        #greeting h1 {
            font-size: clamp(3rem, 10vw, 6rem); 
            margin: 20px 0; 
            animation: bounce 2s infinite;
            color: #ff1493; 
            text-shadow: 3px 3px 6px #ff69b4; 
            word-wrap: break-word;
        }

        .images { 
            position: absolute; 
            top: 0; 
            left: 0; 
            width: 100vw; 
            height: 100vh; 
            display: none; 
            overflow: hidden; 
        }
        .images img {
            position: absolute; 
            width: clamp(70px, 25vw, 120px); 
            height: clamp(70px, 25vw, 120px);
            object-fit: cover; 
            border-radius: 50%; 
            border: 2.5px solid #ffb6c1;
            box-shadow: 0 0 10px rgba(255, 105, 180, 0.3);
        }

        .balloon {
            position:absolute;
            width:clamp(30px,8vw,50px);
            height:clamp(40px,12vw,70px);
            background:#ff69b4;
            border-radius:50% 50% 50% 50% / 60% 60% 40% 40%;
            display:none;
            z-index:2;
            transform-origin:center bottom;
            --string-h: 90px; 
        }
        .balloon:nth-child(3n+1) { background: #ff69b4; }  /* hotpink */
        .balloon:nth-child(3n+2) { background: #ffb6c1; }  /* lightpink */
        .balloon:nth-child(3n+3) { background: #ffc0cb; }  /* pink */

        .balloon::after {
            content: '';
            position: absolute;
            top: clamp(6px, 1.5vw, 10px);
            left: clamp(6px, 1.5vw, 10px);
            width: clamp(6px, 1.5vw, 10px);
            height: clamp(6px, 1.5vw, 10px);
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.7);
            pointer-events: none;
        }

        .balloon .knot {
            position:absolute;
            bottom:-6px;
            left:50%;
            transform:translateX(-50%);
            width:10px;
            height:8px;
            background:inherit;
            border-radius:2px;
            z-index:5;
        }

        .balloon .stringSvg {
            position:absolute;
            left:50%;
            top:100%;
            transform:translateX(-50%);
            width:38px;                
            height:var(--string-h);
            overflow:visible;
            pointer-events:none;
            z-index:1;                  
        }
        .balloon .stringSvg polyline {
            fill:none;
            stroke:#ffffff;
            stroke-width:2;
            stroke-linecap:round;
            stroke-linejoin:round;
            opacity:0.98;
            filter: drop-shadow(0 1px 1px rgba(0,0,0,0.06));
        }

        @keyframes float { 0% { transform: translateY(100vh) rotate(0deg); } 50% { transform: translateY(50vh) rotate(5deg); } 100% { transform: translateY(0vh) rotate(0deg); } }
        @keyframes bounce { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }

        #confetti-canvas { position:fixed; top:0; left:0; width:100vw; height:100vh; pointer-events:none; display:none; z-index:1; }

        @media (max-width:320px) { .balloon { width:25px; height:35px; } .balloon .stringSvg{ width:28px; } }
        @media (max-width:768px) { .balloon { width: clamp(30px,7.5vw,50px); height: clamp(40px,11vw,66px); } .balloon .stringSvg{ width:28px; } }
       
    </style>
</head>
<body>
    <div id="login">
        <h2>Enter Your Birthday to Login</h2>
        <form onsubmit="return false;">
            <input type="date" id="dateInput">
            <button onclick="checkDate()">Login</button>
        </form>
    </div>

    <div id="greeting">
        <h1>Happy<br>Birthday<br>Mau!</h1>
    </div>

    <div class="images">
       
        <img src="https://lh3.googleusercontent.com/pw/AP1GczOU_dbFYmMI_Il5CEMs66mA4EzN0VGpJsrrCxkjg0WsK_j4KGjR4ez5sWyraughmigU0dz0wdGK7LwL1pfzeS2DoVYvbFnx045Zz3-VfrKdVx1sLwkD1y1MYc7BEOb52W6K7Lb1pZai1JGC2V6HAtj8=w484-h705-s-no-gm?authuser=0" alt="Birthday Picture 1" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczMHoAWOh-o6Q57H1UWG_YnFy4H0RJt34HxuxG9xcPRP4lJm8PuWdFAQjtmAXFBGJbtP2c9XocGqaOkcs-m8R1JshvTpk7sK9e7XCvYKSkWChnYo4Tt69s1xH97VzqLt3sk2oUXSgxFq5xQeM4vCwPq2=w529-h705-s-no-gm?authuser=0" alt="Birthday Picture 2" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczOAN5b_-Vk2X05VPUMifHg-HWNpjPce-7cnAaTNHQs7uwzd4vJpLcI5vkg8E73Z8OaIlMe71lMYOKyS-1it2sl-eRcIYo2A8zPaWLLcq928IpfyLSNa-WXOxs7DkYQew3zLvv5lV5ay-3qiVZqNP57N=w529-h705-s-no-gm?authuser=0" alt="Birthday Picture 3" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczM_t1AuS_iVR12pMtPgn4bihKmS1QQ-eN8UVPcpwS4CiC7PdRhwyhDREs7paNkA1kw2XlG79P1x7f7lgOdEv1-pzSbMfwnbTClEiTyFSWudQvBrJckd0M304z02bIqMbGFsaRAyNGYz9_kqx9s6OXLa=w529-h705-s-no-gm?authuser=0" alt="Birthday Picture 4" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczOTVK-60DTGIkJmQcKEsZqXYL7etmLh7REiYfYm68QqIuSsC86XF0gL7F6spR2IvS1VGUDMd5Y2sWKzv76wAdLhhItLfSNnjnnQ4Ce0NnmwYCsfwTmgd-a4smKsS4AdkpMJv-ai5ludoyTTvIArj9cl=w529-h705-s-no-gm?authuser=0" alt="Birthday Picture 5" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczM65hyENH574kBw1ff52fLxn1JrUc7sgxURRvvQFsTKQVLYSuD3HImUoVVNQiFNaBBTjD20DfY6ufq1IImjBY8ARNQAwr0acjUpjmxM3XjdV140UkjCu0_BxxfOOqAGmw9cQlZeeV9_jIlPJ_4m2LJ9=w529-h705-s-no-gm?authuser=0" alt="Birthday Picture 6" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczP50lRNTHKXvvkWpdDw_dgPUm3EFDdsc-JXCQ1_xZd9-X_KR2LCnzGX3LKiXyeIrrUyZbVBI1zvHxldZVsS5trocqy9GoxLOuCgpJxaFbezr1dAYONuuFp7f8JCU3uZ15_rEsFiM0FN8EyuKUmJw2BF=w358-h705-s-no-gm?authuser=0" alt="Birthday Picture 7" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczMtk_Mw4VOhT8sL7OnC6X9rtFzHi_SBI7zusprgcJwf-lH4a4KD-Q890AS9vrK4fqBbpqF99vrW3eUb2CJig28a2e6zwL4-VnBfG5UP-WcOdRk56AmNlQ_wL0-V7Ax1p8X4dbBYkHyPtIxMzyb4CKUM=w1387-h705-s-no-gm?authuser=0" alt="Birthday Picture 8" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczM4E1CPXSLF2LI9a6WO-Yb6FtS-yOO5U0yUJxiycoKrHqIc82FnhRjXqdGnczkjdM34invNlu4oKtT05mGUN7OQ1l2hrlT4AoSHKgOJ69vbnAcvjnp9B2zPuxsc-fCf2PRd1411tm-PHWKQhP7947-9=w529-h705-s-no-gm?authuser=0" alt="Birthday Picture 9" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczMVKvDRja-PLBezxC_q52ve68I3bMDtURB5WkLdZD5_b8WUbWzBsBEwluht6BjquAIQKbRweQZebXIDL5EzaNjJPfTHSRN5g0XaJ30EwtBHmoMIn9B8YyqzFdguLfJW0Ayp0pIKcEJCQkzF7OlRvrQr=w529-h705-s-no-gm?authuser=0" alt="Birthday Picture 10" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczMK9WYudzSCUP8OKe4MFarbr9GyNKcUes4o04ja5mNynoWF87YYRYTjSo-zC2vW2ToMVji1ACnvJnEtx6Leg747YeLWOB1hQ73Pm5gTjPb3qfCtNvHnw9FVn4Q9hzRHmqz8Rz_5RJq6YlS23B6DduOC=w940-h705-s-no-gm?authuser=0" alt="Birthday Picture 11" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczPM5poYAYnjfDOToTjEkdkQ5b3q42ByCPz_iRPskcJQdnsxmVba5XYJGTXZUlKE3p1GFqSqh10gxwRw3gp7qZ7xYd6Zzpe0UqXyGttjwSTx6iGg6mobcc716F8ysY1MrGcpeuHrI4ffJCmMh3vh91SU=w369-h422-s-no-gm?authuser=0" alt="Birthday Picture 12" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczPdVK5PUyCrJ4cQzizQ1VroptwQhJVPiWlocooXWdM8ThSP9PxGZk3dtYw-FTXc3GFbrytLGnDSbTE-dL5wZ0C43aGsqailQs8iJUwMoIuOoF0bduRDpMYLZ9koE4nyL7EecWU3q3OGP5weaGRcjKsR=w437-h501-s-no-gm?authuser=0" alt="Birthday Picture 13" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczMFc0w7aBDNPtqskOFyVDcJ1VyIRiX6gQOq2Xtx5uz8OINy_9cXzd-Eq_CAW0a-7slwGsRzuMOvOp0zJgqOJmspEQUpjGyWn5ircJfCzwh6cBjwhbN6Knmn8G5csjQpI48xI10q9cyGL2GwdIi7EUwz=w358-h705-s-no-gm?authuser=0" alt="Birthday Picture 14" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczMrU8mJgj5EwrjnG7_kHql09F1BQUlgJ_PfkPRFkucyzHRxXnjj6lg359TdvE6JKDwMO3uLtK0qm02IYJX0QBIkfwPPjq2mZA10CKgjbAUTIcF-kF9Z9qqEIoDWn6fiqpxnjEb2JIsoXQrX7-5GMC7b=w529-h705-s-no-gm?authuser=0" alt="Birthday Picture 15" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczPl93NxQpeVl51qYUORD-2PL84pYUzxlddy_6kbL0wEsQGgo3dccQICnZgMr7Jew56wV4824IuSnIeryOxfXAbp2XzkpgScA-vwrcBa6pTDcyCIfzh2BK_pw5NQT09zz4oXecLWeX-vACkF-eb_akxa=w397-h705-s-no-gm?authuser=0" alt="Birthday Picture 16" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczNxKAosl9tgRgGLfdihmd8b7lvgY9D9r0w-spDcPhaSwKZGRXqwjm7U7R4QyusmD9pbZWeby_h4DB2etH_k8oyOM24rA_LjLmHdl7optWU7gV6dpOuqiaD_DrVg3JF0Rc27zEcj4ruzvVDVSFe4d7tG=w529-h705-s-no-gm?authuser=0" alt="Birthday Picture 17" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczPskHldpjd_jWklXJtZGKQ4heYdavd-gKrpGZwuQWCvQfAb2E8JLwjv0zFvI4dam-HGhUfEQ0WQluSarQICthhfkbt_6NmYQW1SllM2tCVIx8Z0PJvtDmmrSecF50BYMyY6lbPkXUcTg9MLAQD6mDUW=w940-h705-s-no-gm?authuser=0" alt="Birthday Picture 18" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczN2q70F3MOlbsyY5GTT8dJNuxDcr9kNZikqEd36rKdfT09trP3EPv0cXkg1wQI3v5YiHFP3A9e190CmF5YQ4R5UGaTk5E8svmy-sv8vzzoKxYwMyOrBmSSv8eGLQNZ6BhIPAcIdfBKbLP_w2i57pPNf=w940-h705-s-no-gm?authuser=0" alt="Birthday Picture 19" class="move-image">
        <img src="https://lh3.googleusercontent.com/pw/AP1GczObONUw-TyGUxXNF-mM4FLq73aRh3rlByid6iCkEj8-WbaRGnHZTJnNieUUnkWFm7100_C3IpdyQhEbgSy3AZMhOcFwisVOZPKl7qZ_0eEMPJEIw5JpBZcEm7z7komgZeKrphDCOohTsIQLQM2hpSvb=w528-h705-s-no-gm?authuser=0" alt="Birthday Picture 20" class="move-image">
    </div>

   
    <div class="balloon balloon"><div class="knot"></div>
        <svg class="stringSvg" xmlns="http://www.w3.org/2000/svg"><polyline class="stringPath" points=""></polyline></svg>
    </div>
    <div class="balloon balloon"><div class="knot"></div>
        <svg class="stringSvg" xmlns="http://www.w3.org/2000/svg"><polyline class="stringPath" points=""></polyline></svg>
    </div>
    <div class="balloon balloon"><div class="knot"></div>
        <svg class="stringSvg" xmlns="http://www.w3.org/2000/svg"><polyline class="stringPath" points=""></polyline></svg>
    </div>
    <div class="balloon balloon"><div class="knot"></div>
        <svg class="stringSvg" xmlns="http://www.w3.org/2000/svg"><polyline class="stringPath" points=""></polyline></svg>
    </div>
    <div class="balloon balloon"><div class="knot"></div>
        <svg class="stringSvg" xmlns="http://www.w3.org/2000/svg"><polyline class="stringPath" points=""></polyline></svg>
    </div>
    <div class="balloon balloon"><div class="knot"></div>
        <svg class="stringSvg" xmlns="http://www.w3.org/2000/svg"><polyline class="stringPath" points=""></polyline></svg>
    </div>
    <div class="balloon balloon"><div class="knot"></div>
        <svg class="stringSvg" xmlns="http://www.w3.org/2000/svg"><polyline class="stringPath" points=""></polyline></svg>
    </div>
    <div class="balloon balloon"><div class="knot"></div>
        <svg class="stringSvg" xmlns="http://www.w3.org/2000/svg"><polyline class="stringPath" points=""></polyline></svg>
    </div>
    <div class="balloon balloon"><div class="knot"></div>
        <svg class="stringSvg" xmlns="http://www.w3.org/2000/svg"><polyline class="stringPath" points=""></polyline></svg>
    </div>
    <div class="balloon balloon"><div class="knot"></div>
        <svg class="stringSvg" xmlns="http://www.w3.org/2000/svg"><polyline class="stringPath" points=""></polyline></svg>
    </div>
    <div class="balloon balloon"><div class="knot"></div>
        <svg class="stringSvg" xmlns="http://www.w3.org/2000/svg"><polyline class="stringPath" points=""></polyline></svg>
    </div>
    <div class="balloon balloon"><div class="knot"></div>
        <svg class="stringSvg" xmlns="http://www.w3.org/2000/svg"><polyline class="stringPath" points=""></polyline></svg>
    </div>

    <canvas id="confetti-canvas"></canvas>

    <script>
       
        function checkDate() {
            const specificDate = '2005-08-18';
            const inputDate = document.getElementById('dateInput').value;
            if (inputDate === specificDate) {
                document.getElementById('login').style.display = 'none';
                document.getElementById('greeting').style.display = 'block';
                document.querySelector('.images').style.display = 'block';
                document.querySelectorAll('.balloon').forEach(balloon => {
                    balloon.style.display = 'block';
                    balloon.style.animation = `float ${Math.random() * 3 + 4}s ease-in-out infinite`;
                });
                document.getElementById('confetti-canvas').style.display = 'block';
                startConfetti();
                moveImages();
                positionBalloons(); 
                initStrings();      
            } else {
                alert('Incorrect date! Try again.');
            }
        }

        function positionBalloons() {
            const balloons = document.querySelectorAll('.balloon');
            const screenWidth = window.innerWidth;
            const screenHeight = window.innerHeight;
            const total = balloons.length;

            balloons.forEach((balloon, index) => {
                const spacing = screenWidth / (total + 1);
                const leftPosition = (index + 1) * spacing - balloon.offsetWidth / 2;
                const topPosition = Math.max(10, Math.min(screenHeight - balloon.offsetHeight - 120,
                                                        Math.random() * (screenHeight * 0.6)));

                balloon.style.left = leftPosition + 'px';
                balloon.style.top = topPosition + 'px';

                const rect = balloon.getBoundingClientRect();
                const bh = rect.height || parseFloat(getComputedStyle(balloon).height);
                const len = Math.max(50, Math.min(300, Math.round(bh * (1.3 + Math.random()*0.4)))); 
                balloon.style.setProperty('--string-h', len + 'px');

                const svg = balloon.querySelector('.stringSvg');
                if (svg) {
                    svg.setAttribute('height', len);
                    const svgWidth = parseFloat(getComputedStyle(svg).width) || 38;
                    svg.setAttribute('viewBox', `0 0 ${svgWidth} ${len}`);
                }
            });
        }

       
        function startConfetti() {
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');
            function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);
            const confetti = [];
            const colors = ['#ff69b4','#ff1493','#ffb6c1','#ffc0cb','#ff8da1'];
            function createConfetti() {
                return { x: Math.random()*canvas.width, y: Math.random()*canvas.height - canvas.height, r: Math.random()*4+1, d: Math.random()*50+50, color: colors[Math.floor(Math.random()*colors.length)], tilt: Math.random()*10-10, tiltAngleIncremental: Math.random()*0.07+0.05, tiltAngle: 0 };
            }
            for (let i=0;i<200;i++) confetti.push(createConfetti());
            function drawConfetti() {
                ctx.clearRect(0,0,canvas.width,canvas.height);
                confetti.forEach((conf, index) => {
                    conf.tiltAngle += conf.tiltAngleIncremental;
                    conf.y += (Math.cos(conf.d) + 3 + conf.r/2)/2;
                    conf.tilt = Math.sin(conf.tiltAngle)*15;
                    if (conf.y > canvas.height) confetti[index] = createConfetti();
                    ctx.beginPath();
                    ctx.lineWidth = conf.r;
                    ctx.strokeStyle = conf.color;
                    ctx.moveTo(conf.x + conf.tilt + conf.r/4, conf.y);
                    ctx.lineTo(conf.x + conf.tilt, conf.y + conf.tilt + conf.r/4);
                    ctx.stroke();
                });
                requestAnimationFrame(drawConfetti);
            }
            drawConfetti();
        }

       
        function moveImages() {
            const images = document.querySelectorAll('.move-image');
            function updateImagePositions() {
                const maxX = window.innerWidth - 100;
                const maxY = window.innerHeight - 100;
                images.forEach(img => {
                    let posX = parseFloat(img.style.left) || Math.random() * maxX;
                    let posY = parseFloat(img.style.top) || Math.random() * maxY;
                    let speedX = (Math.random() - 0.5) * 2;
                    let speedY = (Math.random() - 0.5) * 2;
                    function updatePosition() {
                        posX += speedX; posY += speedY;
                        if (posX <= 0 || posX >= maxX) { speedX = -speedX; posX = Math.max(0,Math.min(posX,maxX)); }
                        if (posY <= 0 || posY >= maxY) { speedY = -speedY; posY = Math.max(0,Math.min(posY,maxY)); }
                        posX = Math.max(0, Math.min(posX, window.innerWidth - 100));
                        posY = Math.max(0, Math.min(posY, window.innerHeight - 100));
                        img.style.left = posX + 'px';
                        img.style.top = posY + 'px';
                        requestAnimationFrame(updatePosition);
                    }
                    updatePosition();
                });
            }
            updateImagePositions();
            window.addEventListener('resize', updateImagePositions);
        }

       
        let stringObjects = []; 

        function initStrings() {
            if (stringObjects.length) return;
            const balloons = document.querySelectorAll('.balloon');
            balloons.forEach(balloon => {
                const svg = balloon.querySelector('.stringSvg');
                const poly = svg ? svg.querySelector('.stringPath') : null;
                if (!svg || !poly) return;
                const css = getComputedStyle(svg);
                const svgW = parseFloat(css.width) || 38;
                const svgH = parseFloat(css.height) || parseFloat(getComputedStyle(balloon).getPropertyValue('--string-h')) || 90;

                const obj = {
                    polyline: poly,
                    svg: svg,
                    svgWidth: svgW,
                    svgHeight: svgH,
                    amp: Math.max(6, Math.min(18, svgW * (0.18 + Math.random()*0.25))),
                    freq: 0.015 + Math.random()*0.02,
                    speed: 1.2 + Math.random()*1.2,
                    phase: Math.random()*Math.PI*2,
                    pointsCount: 10 + Math.floor(Math.random()*4)
                };
                svg.setAttribute('viewBox', `0 0 ${obj.svgWidth} ${obj.svgHeight}`);
                svg.setAttribute('preserveAspectRatio','none');
                stringObjects.push(obj);
            });
            requestAnimationFrame(animateStrings);
        }

        function animateStrings(now) {
            const t = now / 1000;
            for (let i = 0; i < stringObjects.length; i++) {
                const s = stringObjects[i];
                const cssH = parseFloat(getComputedStyle(s.svg).height) || s.svgHeight;
                if (Math.abs(cssH - s.svgHeight) > 1) {
                    s.svgHeight = cssH;
                    s.svg.setAttribute('viewBox', `0 0 ${s.svgWidth} ${s.svgHeight}`);
                }
                const cx = s.svgWidth / 2;
                const pts = [];
                for (let p = 0; p < s.pointsCount; p++) {
                    const y = (p / (s.pointsCount - 1)) * s.svgHeight;
                    const x = cx + Math.sin(t * s.speed + s.phase + y * s.freq) * s.amp * Math.sin((p / s.pointsCount) * Math.PI);
                    pts.push(`${x.toFixed(1)},${y.toFixed(1)}`);
                }
                s.polyline.setAttribute('points', pts.join(' '));
            }
            requestAnimationFrame(animateStrings);
        }

       
        window.addEventListener('resize', () => {
            const canvas = document.getElementById('confetti-canvas');
            if (canvas.style.display !== 'none') {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            if (document.getElementById('greeting').style.display !== 'none') {
                positionBalloons();
                stringObjects = []; 
                initStrings();
            }
        });

        window.addEventListener('orientationchange', () => {
            setTimeout(() => {
                if (document.getElementById('greeting').style.display !== 'none') {
                    positionBalloons();
                    stringObjects = [];
                    initStrings();
                    moveImages();
                }
            }, 120);
        });
    </script>
</body>
</html>

